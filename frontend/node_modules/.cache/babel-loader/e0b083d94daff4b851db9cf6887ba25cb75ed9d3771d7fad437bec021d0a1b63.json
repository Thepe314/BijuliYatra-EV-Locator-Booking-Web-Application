{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thapa\\\\Documents\\\\GitHub\\\\BijuliYatra-EV-Locator-Booking-Web-Application\\\\frontend\\\\src\\\\components\\\\Auth\\\\signup.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const [formData, seFormData] = useState({\n    fullname: \"\",\n    email: \"\",\n    password: \"\",\n    phoneNumber: \"\",\n    address: \"\",\n    role: \"user\",\n    vehicleBrand: \"\",\n    vehicleModel: \"\",\n    vechicleRegistrationNumber: \"\",\n    chargingType: \"\",\n    status: \"Active\"\n  });\n  const [errors, setErrors] = useState({\n    fullname: \"\",\n    email: \"\",\n    password: \"\",\n    phoneNumber: \"\",\n    address: \"\",\n    role: \"user\",\n    vehicleBrand: \"\",\n    vehicleModel: \"\",\n    vechicleRegistrationNumber: \"\",\n    chargingType: \"\",\n    status: \"Active\"\n  });\n  const submiSignup = () => {\n    e.preventDefault();\n\n    // // Mark all fields as touched to show validation errors\n    // const allTouched = {};\n    // Object.keys(formData).forEach((key) => {\n    //   allTouched[key] = true;\n    // });\n    // setTouched(allTouched);\n\n    if (validateForm()) {\n      setIsSubmitting(true);\n      setApiError(\"\");\n      try {\n        // Prepare data for API (excluding confirmPassword)\n        const userData = {\n          fullname: formData.firstName + \" \" + formData.lastName,\n          email: formData.email,\n          phoneNumber: formData.mobile,\n          password: formData.password,\n          role: \"attendee\",\n          status: \"Active\"\n        };\n\n        // Call the signup API\n        // const response = await authService.signup(userData);\n\n        console.log(\"Signup successful:\", response);\n\n        // Success animation before alert/navigation\n        // await new Promise((resolve) => setTimeout(resolve, 300));\n\n        // Show success message and redirect to login\n        alert(\"Signup successful! Please login to continue.\");\n        navigate(\"/login\");\n      } catch (error) {\n        console.error(\"Signup failed:\", error);\n\n        // Handle specific error responses\n        if (error.response) {\n          if (error.response.status === 409) {\n            setApiError(\"An account with this email already exists.\");\n          } else if (error.response.data && error.response.data.message) {\n            setApiError(error.response.data.message);\n          } else {\n            setApiError(\"Signup failed. Please try again later.\");\n          }\n        } else {\n          setApiError(\"Unable to connect to the server. Please try again later.\");\n        }\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome to the Signup Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submiSignup,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"fullname\",\n          class: \"form-label\",\n          children: \"Full Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"\",\n          id: \"\",\n          class: \"form-control\",\n          placeholder: \"\",\n          \"aria-describedby\": \"helpId\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"fullname\",\n          class: \"form-label\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"\",\n          id: \"\",\n          class: \"form-control\",\n          placeholder: \"\",\n          \"aria-describedby\": \"helpId\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"fullname\",\n          class: \"form-label\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"\",\n          id: \"\",\n          class: \"form-control\",\n          placeholder: \"\",\n          \"aria-describedby\": \"helpId\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"fullname\",\n          class: \"form-label\",\n          children: \"Phone Number:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"\",\n          id: \"\",\n          class: \"form-control\",\n          placeholder: \"\",\n          \"aria-describedby\": \"helpId\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"fullname\",\n          class: \"form-label\",\n          children: \"Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"\",\n          id: \"\",\n          class: \"form-control\",\n          placeholder: \"\",\n          \"aria-describedby\": \"helpId\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {},\n        children: \"Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 6\n  }, this);\n};\n_s(Signup, \"3MeMzFvHjCqZyJ1w4RN66V3GD4U=\");\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Signup","_s","formData","seFormData","fullname","email","password","phoneNumber","address","role","vehicleBrand","vehicleModel","vechicleRegistrationNumber","chargingType","status","errors","setErrors","submiSignup","e","preventDefault","validateForm","setIsSubmitting","setApiError","userData","firstName","lastName","mobile","console","log","response","alert","navigate","error","data","message","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","class","for","type","name","id","placeholder","style","_c","$RefreshReg$"],"sources":["C:/Users/thapa/Documents/GitHub/BijuliYatra-EV-Locator-Booking-Web-Application/frontend/src/components/Auth/signup.js"],"sourcesContent":[" import React, { useState } from 'react';\r\n \r\n const Signup = () => {\r\n     const[formData,seFormData]= useState({\r\n            fullname:\"\",\r\n            email:\"\",\r\n            password:\"\",\r\n            phoneNumber:\"\",\r\n            address:\"\",\r\n            role:\"user\",\r\n            vehicleBrand:\"\",\r\n            vehicleModel:\"\",\r\n            vechicleRegistrationNumber:\"\",\r\n            chargingType:\"\",\r\n            status:\"Active\"\r\n        });\r\n\r\n    const [errors, setErrors] = useState({\r\n            fullname:\"\",\r\n            email:\"\",\r\n            password:\"\",\r\n            phoneNumber:\"\",\r\n            address:\"\",\r\n            role:\"user\",\r\n            vehicleBrand:\"\",\r\n            vehicleModel:\"\",\r\n            vechicleRegistrationNumber:\"\",\r\n            chargingType:\"\",\r\n            status:\"Active\"\r\n  });\r\n    \r\n        const submiSignup = () =>{\r\n    \r\n             e.preventDefault();\r\n\r\n    // // Mark all fields as touched to show validation errors\r\n    // const allTouched = {};\r\n    // Object.keys(formData).forEach((key) => {\r\n    //   allTouched[key] = true;\r\n    // });\r\n    // setTouched(allTouched);\r\n\r\n    if (validateForm()) {\r\n      setIsSubmitting(true);\r\n      setApiError(\"\");\r\n\r\n      try {\r\n        // Prepare data for API (excluding confirmPassword)\r\n        const userData = {\r\n        fullname: formData.firstName + \" \" + formData.lastName,\r\n        email: formData.email,\r\n        phoneNumber: formData.mobile,\r\n        password: formData.password,\r\n        role: \"attendee\",\r\n        status:\"Active\"\r\n        };\r\n\r\n        // Call the signup API\r\n        // const response = await authService.signup(userData);\r\n\r\n        console.log(\"Signup successful:\", response);\r\n\r\n        // Success animation before alert/navigation\r\n        // await new Promise((resolve) => setTimeout(resolve, 300));\r\n\r\n        // Show success message and redirect to login\r\n        alert(\"Signup successful! Please login to continue.\");\r\n        navigate(\"/login\");\r\n      } catch (error) {\r\n        console.error(\"Signup failed:\", error);\r\n\r\n        // Handle specific error responses\r\n        if (error.response) {\r\n          if (error.response.status === 409) {\r\n            setApiError(\"An account with this email already exists.\");\r\n          } else if (error.response.data && error.response.data.message) {\r\n            setApiError(error.response.data.message);\r\n          } else {\r\n            setApiError(\"Signup failed. Please try again later.\");\r\n          }\r\n        } else {\r\n          setApiError(\r\n            \"Unable to connect to the server. Please try again later.\"\r\n          );\r\n        }\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    }\r\n        };\r\n   return (\r\n     <div>\r\n       <h1>Welcome to the Signup Page</h1>\r\n       <form onSubmit={submiSignup}>\r\n        <div class=\"mb-3\">\r\n            <label for=\"fullname\" class=\"form-label\">Full Name:</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"\"\r\n                id=\"\"\r\n                class=\"form-control\"\r\n                placeholder=\"\"\r\n                aria-describedby=\"helpId\"\r\n            />\r\n             <label for=\"fullname\" class=\"form-label\">Email:</label>\r\n            <input\r\n                type=\"email\"\r\n                name=\"\"\r\n                id=\"\"\r\n                class=\"form-control\"\r\n                placeholder=\"\"\r\n                aria-describedby=\"helpId\"\r\n            />\r\n             <label for=\"fullname\" class=\"form-label\">Password:</label>\r\n            <input\r\n                type=\"password\"\r\n                name=\"\"\r\n                id=\"\"\r\n                class=\"form-control\"\r\n                placeholder=\"\"\r\n                aria-describedby=\"helpId\"\r\n            />\r\n\r\n             <label for=\"fullname\" class=\"form-label\">Phone Number:</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"\"\r\n                id=\"\"\r\n                class=\"form-control\"\r\n                placeholder=\"\"\r\n                aria-describedby=\"helpId\"\r\n            />\r\n\r\n             <label for=\"fullname\" class=\"form-label\">Address:</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"\"\r\n                id=\"\"\r\n                class=\"form-control\"\r\n                placeholder=\"\"\r\n                aria-describedby=\"helpId\"\r\n            />\r\n        </div>\r\n      \r\n      <button style={{}}>Signup</button>\r\n\r\n\r\n       </form>\r\n       \r\n     </div>\r\n   );\r\n };\r\n \r\n export default Signup;\r\n "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}